var THREEx=THREEx||{};THREEx.FullScreen=THREEx.FullScreen||{},THREEx.FullScreen.available=function(){return this._hasWebkitFullScreen||this._hasMozFullScreen},THREEx.FullScreen.activated=function(){return this._hasWebkitFullScreen?document.webkitIsFullScreen:this._hasMozFullScreen?document.mozFullScreen:void console.assert(!1)},THREEx.FullScreen.request=function(e){e=e||document.body,this._hasWebkitFullScreen?e.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):this._hasMozFullScreen?e.mozRequestFullScreen():console.assert(!1)},THREEx.FullScreen.cancel=function(){this._hasWebkitFullScreen?document.webkitCancelFullScreen():this._hasMozFullScreen?document.mozCancelFullScreen():console.assert(!1)},THREEx.FullScreen._hasWebkitFullScreen="webkitCancelFullScreen"in document,THREEx.FullScreen._hasMozFullScreen="mozCancelFullScreen"in document,THREEx.FullScreen.bindKey=function(e){var l=(e=e||{}).charCode||102,n=void 0!==e.dblclick&&e.dblclick,c=e.element,r=function(){THREEx.FullScreen.activated()?THREEx.FullScreen.cancel():THREEx.FullScreen.request(c)},t=(function(e){e.which===l&&r()}).bind(this);return document.addEventListener("keypress",t,!1),n&&document.addEventListener("dblclick",r,!1),{unbind:function(){document.removeEventListener("keypress",t,!1),n&&document.removeEventListener("dblclick",r,!1)}}};